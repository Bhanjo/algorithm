import sys
import itertools
input = sys.stdin.readline

# 세로 7칸은 무조건 고정
board = []
sero = 0
while(sero < 7):
    board.append(input().strip())
    sero += 1
board_divide = len(board[0]) // 6  # 보드하나 크기는 6x7임

new_board = [[]]*board_divide
x, next_x = 0, 5

for i in range(board_divide):
    row = []
    for j in range(7):
        row.append(board[j][x:next_x+1])
    new_board[i].append(row)
    x += 6
    next_x += 6

# 숫자 배치
numbers = [
    # [  # 0
    #     '000000',
    #     '001100',
    #     '010010',
    #     '010010',
    #     '010010',
    #     '001100',
    #     '000000',
    # ],
    # [  # 1
    #     '000000',
    #     '000100',
    #     '001100',
    #     '000100',
    #     '000100',
    #     '000100',
    #     '000000',
    # ],
    # [  # 2
    #     '000000',
    #     '011110',
    #     '000010',
    #     '011110',
    #     '010000',
    #     '011110',
    #     '000000',
    # ],
    # [  # 3
    #     '000000',
    #     '011100',
    #     '000010',
    #     '000100',
    #     '000010',
    #     '011100',
    #     '000000',
    # ],
    # [  # 4
    #     '000000',
    #     '000100',
    #     '001100',
    #     '010100',
    #     '111110',
    #     '000100',
    #     '000000',
    # ],
    # [  # 5
    #     '000000',
    #     '011110',
    #     '010000',
    #     '011100',
    #     '000010',
    #     '010010',
    #     '001100',
    # ],
    # [  # 6
    #     '000000',
    #     '010000',
    #     '010000',
    #     '011110',
    #     '010010',
    #     '011110',
    #     '000000',
    # ],
    # [  # 7
    #     '000000',
    #     '011110',
    #     '000010',
    #     '000100',
    #     '000100',
    #     '000100',
    #     '000000',
    # ],
    # [  # 8
    #     '000000',
    #     '011110',
    #     '010010',
    #     '011110',
    #     '010010',
    #     '011110',
    #     '000000',
    # ],
    # [  # 9
    #     '011110',
    #     '010010',
    #     '010010',
    #     '011110',
    #     '000010',
    #     '000010',
    #     '000010',
    # ],
    [
        "000000",
        "001100",
        "010010",
        "010010",
        "010010",
        "001100",
        "000000",
    ],
    [
        "000000",
        "000100",
        "001100",
        "000100",
        "000100",
        "000100",
        "000000",
    ],
    [
        "000000",
        "011110",
        "000010",
        "011110",
        "010000",
        "011110",
        "000000",
    ],
    [
        "000000",
        "011100",
        "000010",
        "000100",
        "000010",
        "011100",
        "000000",
    ],
    [
        "000000",
        "000100",
        "001100",
        "010100",
        "111110",
        "000100",
        "000000",
    ],
    [
        "000000",
        "011110",
        "010000",
        "011100",
        "000010",
        "010010",
        "001100",
    ],
    [
        "000000",
        "010000",
        "010000",
        "011110",
        "010010",
        "011110",
        "000000",
    ],
    [
        "000000",
        "011110",
        "000010",
        "000100",
        "000100",
        "000100",
        "000000",
    ],
    [
        "000000",
        "011110",
        "010010",
        "011110",
        "010010",
        "011110",
        "000000",
    ],
    [
        "011110",
        "010010",
        "010010",
        "011110",
        "000010",
        "000010",
        "000010",
    ]
]

target_num = ''
for j in new_board[0]:
    for k in numbers:
        if j == k:
            target_num += (str(numbers.index(k)))

list_num = list(map(''.join, itertools.permutations(target_num)))
list_num.sort()
list_index = list_num.index(target_num)+1
if len(list_num) <= list_index:
    print('The End')
else:
    x2, next_x2 = 0, 5
    result = []
    row2 = []
    for j in range(7):
        row2.append(numbers[int(list_num[list_index][0])][j])
        row2.append(numbers[int(list_num[list_index][1])][j])
        row2.append(numbers[int(list_num[list_index][2])][j])
    result = row2
    start = 0
    cnt = 0
    break_point = False
    for i in range(len(result)):
        word = ''
        for j in range(board_divide):
            if cnt >= len(result):
                break_point = True
                break
            word += result[cnt]
            cnt += 1
        if break_point == True:
            break
        print(word)
